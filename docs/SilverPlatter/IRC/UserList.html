<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
	<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />

	<title>Class: SilverPlatter::IRC::UserList</title>

	<link rel="stylesheet" href="../../rdoc.css" type="text/css" media="screen" />

	<script src="../../js/jquery.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/thickbox-compressed.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/quicksearch.js" type="text/javascript"
		charset="utf-8"></script>
	<script src="../../js/darkfish.js" type="text/javascript"
		charset="utf-8"></script>

</head>
<body class="class">

	<div id="metadata">
		<div id="file-metadata">
			<div id="file-list-section" class="section">
				<h3 class="section-header">In Files</h3>
				<div class="section-body">
					<ul>
					
						<li><a href="../../lib/silverplatter/irc/userlist_rb.html?TB_iframe=true&amp;height=550&amp;width=785"
							class="thickbox" title="lib/silverplatter/irc/userlist.rb">lib/silverplatter/irc/userlist.rb</a></li>
					
					</ul>
				</div>
			</div>

			
		</div>

		<div id="class-metadata">

			<!-- Parent Class -->
			
			<div id="parent-class-section" class="section">
				<h3 class="section-header">Parent</h3>
				
				<p class="link">Object</p>
				
			</div>
			

			<!-- Namespace Contents -->
			

			<!-- Method Quickref -->
			
			<div id="method-list-section" class="section">
				<h3 class="section-header">Methods</h3>
				<ul class="link-list">
					
					<li><a href="#M000353">::new</a></li>
					
					<li><a href="#M000359">#[]</a></li>
					
					<li><a href="#M000360">#[]=</a></li>
					
					<li><a href="#M000409">#casemap</a></li>
					
					<li><a href="#M000405">#clear</a></li>
					
					<li><a href="#M000392">#common_users</a></li>
					
					<li><a href="#M000395">#common_users?</a></li>
					
					<li><a href="#M000401">#delete</a></li>
					
					<li><a href="#M000404">#delete_channel</a></li>
					
					<li><a href="#M000403">#delete_nick</a></li>
					
					<li><a href="#M000402">#delete_user</a></li>
					
					<li><a href="#M000396">#each</a></li>
					
					<li><a href="#M000398">#each_nick</a></li>
					
					<li><a href="#M000397">#each_user</a></li>
					
					<li><a href="#M000400">#each_value</a></li>
					
					<li><a href="#M000406">#empty?</a></li>
					
					<li><a href="#M000361">#include?</a></li>
					
					<li><a href="#M000367">#include_nick?</a></li>
					
					<li><a href="#M000366">#include_user?</a></li>
					
					<li><a href="#M000410">#initialize_copy</a></li>
					
					<li><a href="#M000377">#nicks</a></li>
					
					<li><a href="#M000382">#size</a></li>
					
					<li><a href="#M000383">#strong_clones</a></li>
					
					<li><a href="#M000407">#synchronize</a></li>
					
					<li><a href="#M000371">#user</a></li>
					
					<li><a href="#M000376">#users</a></li>
					
					<li><a href="#M000373">#value_by_nick</a></li>
					
					<li><a href="#M000372">#value_by_user</a></li>
					
					<li><a href="#M000381">#values</a></li>
					
					<li><a href="#M000391">#weak_clones</a></li>
					
				</ul>
			</div>
			

			<!-- Included Modules -->
			
			<div id="includes-section" class="section">
				<h3 class="section-header">Included Modules</h3>
				<ul class="link-list">
				
				
					<li><a class="include" href="RFC1459_CaseMapping.html">SilverPlatter::IRC::RFC1459_CaseMapping</a></li>
				
				
				
					<li><span class="include">Enumerable</span></li>
				
				
				</ul>
			</div>
			
		</div>

		<div id="project-metadata">
			
			
			<div id="fileindex-section" class="section project-section">
				<h3 class="section-header">Files</h3>
				<ul>
				
					<li class="file"><a href="../../CHANGELOG_rdoc.html">CHANGELOG.rdoc</a></li>
				
					<li class="file"><a href="../../HISTORY_rdoc.html">HISTORY.rdoc</a></li>
				
					<li class="file"><a href="../../LICENSE_txt.html">LICENSE.txt</a></li>
				
					<li class="file"><a href="../../MANIFEST_txt.html">MANIFEST.txt</a></li>
				
					<li class="file"><a href="../../README_rdoc.html">README.rdoc</a></li>
				
					<li class="file"><a href="../../TODO_rdoc.html">TODO.rdoc</a></li>
				
				</ul>
			</div>
			

			<div id="classindex-section" class="section project-section">
				<h3 class="section-header">Class Index
					<span class="search-toggle"><img src="../../images/find.png"
						height="16" width="16" alt="[+]"
						title="show/hide quicksearch" /></span></h3>
				<form action="#" method="get" accept-charset="utf-8" class="initially-hidden">
				<fieldset>
					<legend>Quicksearch</legend>
					<input type="text" name="quicksearch" value=""
						class="quicksearch-field" />
				</fieldset>
				</form>

				<ul class="link-list">
				
					<li><a href="../../SilverPlatter.html">SilverPlatter</a></li>
				
					<li><a href="../../SilverPlatter/IRC.html">SilverPlatter::IRC</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ASCII_CaseMapping.html">SilverPlatter::IRC::ASCII_CaseMapping</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Channel.html">SilverPlatter::IRC::Channel</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ChannelList.html">SilverPlatter::IRC::ChannelList</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ChannelModes.html">SilverPlatter::IRC::ChannelModes</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Client.html">SilverPlatter::IRC::Client</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ClientDSL.html">SilverPlatter::IRC::ClientDSL</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Color.html">SilverPlatter::IRC::Color</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Color/Sequence.html">SilverPlatter::IRC::Color::Sequence</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Color/String.html">SilverPlatter::IRC::Color::String</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Connection.html">SilverPlatter::IRC::Connection</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ConnectionDSL.html">SilverPlatter::IRC::ConnectionDSL</a></li>
				
					<li><a href="../../SilverPlatter/IRC/ConnectionSet.html">SilverPlatter::IRC::ConnectionSet</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Hostmask.html">SilverPlatter::IRC::Hostmask</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Hostmask/StringHelper.html">SilverPlatter::IRC::Hostmask::StringHelper</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Listener.html">SilverPlatter::IRC::Listener</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message.html">SilverPlatter::IRC::Message</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/JOIN.html">SilverPlatter::IRC::Message::JOIN</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/KILL.html">SilverPlatter::IRC::Message::KILL</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/NICK.html">SilverPlatter::IRC::Message::NICK</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/NOTICE.html">SilverPlatter::IRC::Message::NOTICE</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/PART.html">SilverPlatter::IRC::Message::PART</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/PRIVMSG.html">SilverPlatter::IRC::Message::PRIVMSG</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Message/TOPIC.html">SilverPlatter::IRC::Message::TOPIC</a></li>
				
					<li><a href="../../SilverPlatter/IRC/MessagePRIVMSG.html">SilverPlatter::IRC::MessagePRIVMSG</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Parser.html">SilverPlatter::IRC::Parser</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Parser/Command.html">SilverPlatter::IRC::Parser::Command</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Parser/InvalidMessageFormat.html">SilverPlatter::IRC::Parser::InvalidMessageFormat</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Parser/ParseError.html">SilverPlatter::IRC::Parser::ParseError</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Parser/UnknownCommand.html">SilverPlatter::IRC::Parser::UnknownCommand</a></li>
				
					<li><a href="../../SilverPlatter/IRC/RFC1459Strict_CaseMapping.html">SilverPlatter::IRC::RFC1459Strict_CaseMapping</a></li>
				
					<li><a href="../../SilverPlatter/IRC/RFC1459_CaseMapping.html">SilverPlatter::IRC::RFC1459_CaseMapping</a></li>
				
					<li><a href="../../SilverPlatter/IRC/RFC1459_ChannelModes.html">SilverPlatter::IRC::RFC1459_ChannelModes</a></li>
				
					<li><a href="../../SilverPlatter/IRC/RFC1459_UserModes.html">SilverPlatter::IRC::RFC1459_UserModes</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Socket.html">SilverPlatter::IRC::Socket</a></li>
				
					<li><a href="../../SilverPlatter/IRC/StringHelpers.html">SilverPlatter::IRC::StringHelpers</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Subscriptions.html">SilverPlatter::IRC::Subscriptions</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Topic.html">SilverPlatter::IRC::Topic</a></li>
				
					<li><a href="../../SilverPlatter/IRC/User.html">SilverPlatter::IRC::User</a></li>
				
					<li><a href="../../SilverPlatter/IRC/UserList.html">SilverPlatter::IRC::UserList</a></li>
				
					<li><a href="../../SilverPlatter/IRC/UserManager.html">SilverPlatter::IRC::UserManager</a></li>
				
					<li><a href="../../SilverPlatter/IRC/Whois.html">SilverPlatter::IRC::Whois</a></li>
				
					<li><a href="../../Exception.html">Exception</a></li>
				
					<li><a href="../../Exception/Detailed.html">Exception::Detailed</a></li>
				
					<li><a href="../../Diagnostics.html">Diagnostics</a></li>
				
					<li><a href="../../OpenStruct.html">OpenStruct</a></li>
				
					<li><a href="../../String.html">String</a></li>
				
				</ul>
				<div id="no-class-search-results" style="display: none;">No matching classes.</div>
			</div>

			
		</div>
	</div>

	<div id="documentation">
		<h1 class="class">SilverPlatter::IRC::UserList</h1>

		<div id="description">
			<h2>Authors</h2>
<ul>
<li>Stefan Rusterholz <apeiros@gmx.net>

</li>
</ul>
<h2>About</h2>
<p>
<a href="UserList.html">UserList</a> provides a convenient way to keep a
list of users with attached information such as what modes they have.
</p>
<h2>Synopsis</h2>
<pre>
  list = SilverPlatter::IRC::UserList.new
  list[user] = &quot;o&quot; # add a user with op flag
  list[user] # get the associated value of a user
  list.each { |user, flags| puts &quot;#{user.nick} has the flags #{value}&quot; }
  list.user(nickname) # get the userobject for which you only know the nick
  list.value_by_nick(nickname) # get the associated value
  list.delete(user) # delete a user
  list.delete_nick(nickname) # delete a user from which you only know the nick
</pre>
<h2>Description</h2>
<p>
<a href="UserList.html">UserList</a> is used to keep a list of users. It
can be used standalone, but it is supposed to be used in conjunction with
an <a href="Connection.html">IRC::Connection</a> which is used for lookups
by nick and for the appropriate casemapping. <a
href="UserList.html">UserList</a> is Enumerable over all users, yielding
user => value Lookups by nick will be faster if a connection is set
</p>
<h2>Notes</h2>
<p>
If you set the connection of the <a href="UserList.html">UserList</a>, all
users stored in it should use the same connection object.
</p>
<p>
The code assumes Hash methods to be ACID.
</p>
<p>
The connection object is expected to have the following methods:
</p>
<ul>
<li>==

</li>
<li>casemap

</li>
<li>user

</li>
</ul>
<h2>Known Bugs</h2>
<p>
Currently none Please inform me about bugs using the bugtracker on <a
href="http://rubyforge.org/tracker/?atid=17330&group_id=4522&func=browse">rubyforge.org/tracker/?atid=17330&group_id=4522&func=browse</a>
</p>
<h2>See Also</h2>
<ul>
<li><a href="../IRC.html">SilverPlatter::IRC</a>

</li>
<li><a href="Client.html">SilverPlatter::IRC::Client</a>

</li>
<li><a href="User.html">SilverPlatter::IRC::User</a>

</li>
<li><a href="Connection.html">SilverPlatter::IRC::Connection</a>

</li>
<li><a href="Channel.html">SilverPlatter::IRC::Channel</a>

</li>
<li><a href="ChannelList.html">SilverPlatter::IRC::ChannelList</a>

</li>
</ul>

		</div>

		<!-- Constants -->
		

		<!-- Attributes -->
		
		<div id="attribute-method-details" class="method-section section">
			<h3 class="section-header">Attributes</h3>

			
			<div id="lock-attribute-method" class="method-detail">
				<a name="lock"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">lock</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
Provides the mutex that&#8217;s used to synchronize all mutations. Use <a
href="UserList.html#lock">UserList#lock</a>.synchronize if you need to test
whether a user is present and operate on it thereafter.
</p>
				
				</div>
			</div>
			
			<div id="connection-attribute-method" class="method-detail">
				<a name="connection"></a>
				
				<div class="method-heading attribute-method-heading">
					<span class="method-name">connection</span><span
						class="attribute-access-type">[R]</span>
				</div>

				<div class="method-description">
				
				<p>
Returns the connection object this <a href="UserList.html">UserList</a>
uses for casemapping.
</p>
				
				</div>
			</div>
			
		</div>
		

		<!-- Methods -->
		
		<div id="public-class-method-details" class="method-section section">
			<h3 class="section-header">Public Class Methods</h3>

		
			<div id="new-method" class="method-detail ">
				<a name="M000353"></a>

				<div class="method-heading">
				
					<span class="method-name">new</span><span
						class="method-args">(connection=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Create a new userlist, if the connection argument is given it will use that
objects casemap method for all casemapping of nicknames. All users in the
list should use the same connetion as the userlist itself! If notify is set
to true, the userlist will tell parser to inform it over nick changes.
</p>
					

					
					<div class="method-source-code"
						id="new-source">
<pre>
    <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 83</span>
83:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize</span>(<span class="ruby-identifier">connection</span>=<span class="ruby-keyword kw">nil</span>)
84:         <span class="ruby-ivar">@users</span>      = {} <span class="ruby-comment cmt"># User =&gt; value</span>
85:         <span class="ruby-ivar">@lock</span>       = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>
86:         <span class="ruby-ivar">@connection</span> = <span class="ruby-identifier">connection</span>
87:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
		<div id="public-instance-method-details" class="method-section section">
			<h3 class="section-header">Public Instance Methods</h3>

		
			<div id="--method" class="method-detail ">
				<a name="M000359"></a>

				<div class="method-heading">
				
					<span class="method-name">[]</span><span
						class="method-args">(user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Get the value associated with a user Accepts either a nick or a <a
href="User.html">User</a> as argument Also see: <a
href="UserList.html#M000372">UserList#value_by_user</a>, <a
href="UserList.html#M000373">UserList#value_by_nick</a> and <a
href="UserList.html#M000371">UserList#user</a>
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
    <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 92</span>
92:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]</span>(<span class="ruby-identifier">user</span>)
93:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">User</span>) <span class="ruby-keyword kw">then</span>
94:           <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>]
95:         <span class="ruby-keyword kw">else</span>
96:           <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>(<span class="ruby-identifier">user</span>)]
97:         <span class="ruby-keyword kw">end</span>
98:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="--method" class="method-detail ">
				<a name="M000360"></a>

				<div class="method-heading">
				
					<span class="method-name">[]=</span><span
						class="method-args">(user, value)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Associate a value with a user Accepts either a nick or a <a
href="User.html">User</a> as argument
</p>
					

					
					<div class="method-source-code"
						id="--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 102</span>
102:       <span class="ruby-keyword kw">def</span> <span class="ruby-operator">[]=</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">value</span>)
103:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">User</span>) <span class="ruby-keyword kw">then</span>
104:           <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>] = <span class="ruby-identifier">value</span>
105:         <span class="ruby-keyword kw">else</span>
106:           <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>(<span class="ruby-identifier">user</span>)] = <span class="ruby-identifier">value</span>
107:         <span class="ruby-keyword kw">end</span>
108:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="clear-method" class="method-detail ">
				<a name="M000405"></a>

				<div class="method-heading">
				
					<span class="method-name">clear</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Remove all users from the list
</p>
					

					
					<div class="method-source-code"
						id="clear-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 281</span>
281:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">clear</span>
282:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">clear</span>
283:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="common-users-method" class="method-detail ">
				<a name="M000392"></a>

				<div class="method-heading">
				
					<span class="method-name">common_users</span><span
						class="method-args">(with_other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Users this userlist shares with another one
</p>
<pre>
  userlist_a.common_users(userlist_b) # =&gt; UserList
</pre>
					

					
					<div class="method-source-code"
						id="common-users-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 219</span>
219:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">common_users</span>(<span class="ruby-identifier">with_other</span>)
220:         <span class="ruby-identifier">common</span> = <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">with_other</span>.<span class="ruby-identifier">users</span>
221:         <span class="ruby-identifier">users</span>  = <span class="ruby-ivar">@users</span> <span class="ruby-comment cmt"># @users would refer to the lists @users</span>
222:         <span class="ruby-identifier">list</span>   = <span class="ruby-constant">UserList</span>.<span class="ruby-identifier">new</span>(<span class="ruby-ivar">@connection</span>)
223:         <span class="ruby-identifier">list</span>.<span class="ruby-identifier">instance_eval</span> {
224:           <span class="ruby-identifier">common</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span>
225:             <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>] = <span class="ruby-identifier">users</span>[<span class="ruby-identifier">user</span>]
226:           }
227:         }
228:         <span class="ruby-identifier">list</span>
229:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="common-users--method" class="method-detail ">
				<a name="M000395"></a>

				<div class="method-heading">
				
					<span class="method-name">common_users?</span><span
						class="method-args">(with_other)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Whether this userlist shares users with another one
</p>
					

					
					<div class="method-source-code"
						id="common-users--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 232</span>
232:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">common_users?</span>(<span class="ruby-identifier">with_other</span>)
233:         <span class="ruby-operator">!</span><span class="ruby-identifier">common_users_array</span>(<span class="ruby-ivar">@users</span>.<span class="ruby-identifier">keys</span> <span class="ruby-operator">&amp;</span> <span class="ruby-identifier">with_other</span>.<span class="ruby-identifier">users</span>).<span class="ruby-identifier">empty?</span>
234:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="delete-method" class="method-detail ">
				<a name="M000401"></a>

				<div class="method-heading">
				
					<span class="method-name">delete</span><span
						class="method-args">(user, reason=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delete a user, the reason is passed on to observers
</p>
					

					
					<div class="method-source-code"
						id="delete-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 264</span>
264:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">user</span>, <span class="ruby-identifier">reason</span>=<span class="ruby-keyword kw">nil</span>)
265:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">delete</span>(<span class="ruby-identifier">user</span>)
266:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
				<div class="aliases">
					Also aliased as: <a href="UserList.html#M000402">delete_user</a>
				</div>
				
			</div>

		
			<div id="delete-channel-method" class="method-detail ">
				<a name="M000404"></a>

				<div class="method-heading">
				
					<span class="method-name">delete_channel</span><span
						class="method-args">(channel, reason=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delete a channel from all users in this list
</p>
					

					
					<div class="method-source-code"
						id="delete-channel-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 276</span>
276:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_channel</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">reason</span>=<span class="ruby-keyword kw">nil</span>)
277:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each_key</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">delete_channel</span>(<span class="ruby-identifier">channel</span>, <span class="ruby-identifier">reason</span>) }
278:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="delete-nick-method" class="method-detail ">
				<a name="M000403"></a>

				<div class="method-heading">
				
					<span class="method-name">delete_nick</span><span
						class="method-args">(nick, reason=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delete a user by nick, the reason is passed on to observers
</p>
					

					
					<div class="method-source-code"
						id="delete-nick-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 270</span>
270:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">delete_nick</span>(<span class="ruby-identifier">nick</span>, <span class="ruby-identifier">reason</span>=<span class="ruby-keyword kw">nil</span>)
271:         <span class="ruby-identifier">delete</span>(<span class="ruby-identifier">by_nick</span>(<span class="ruby-identifier">nick</span>), <span class="ruby-identifier">reason</span>)
272:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="delete-user-method" class="method-detail method-alias">
				<a name="M000402"></a>

				<div class="method-heading">
				
					<span class="method-name">delete_user</span><span
						class="method-args">(user, reason=nil)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Alias for <a href="UserList.html#M000401">delete</a>
</p>
					

					
				</div>

				
			</div>

		
			<div id="each-method" class="method-detail ">
				<a name="M000396"></a>

				<div class="method-heading">
				
					<span class="method-name">each</span><span
						class="method-args">(&block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
iterate over [user, value] be aware that a user might become deleted while
you iterate, so a yielded user might no longer be a member of this
userlist.
</p>
					

					
					<div class="method-source-code"
						id="each-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 240</span>
240:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
241:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
242:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="each-nick-method" class="method-detail ">
				<a name="M000398"></a>

				<div class="method-heading">
				
					<span class="method-name">each_nick</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
iterates over nicks be aware that a user might become deleted while you
iterate, so a yielded nick might no longer be a member of this userlist.
</p>
					

					
					<div class="method-source-code"
						id="each-nick-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 254</span>
254:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_nick</span>
255:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each_key</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">user</span>.<span class="ruby-identifier">nick</span>) }
256:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="each-user-method" class="method-detail ">
				<a name="M000397"></a>

				<div class="method-heading">
				
					<span class="method-name">each_user</span><span
						class="method-args">(&block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
iterate over users be aware that a user might become deleted while you
iterate, so a yielded user might no longer be a member of this userlist.
</p>
					

					
					<div class="method-source-code"
						id="each-user-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 247</span>
247:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_user</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
248:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each_key</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
249:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="each-value-method" class="method-detail ">
				<a name="M000400"></a>

				<div class="method-heading">
				
					<span class="method-name">each_value</span><span
						class="method-args">(&block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
iterates over values
</p>
					

					
					<div class="method-source-code"
						id="each-value-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 259</span>
259:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">each_value</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
260:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">values</span>.<span class="ruby-identifier">each</span>(<span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
261:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="empty--method" class="method-detail ">
				<a name="M000406"></a>

				<div class="method-heading">
				
					<span class="method-name">empty?</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Test if userlist is empty
</p>
					

					
					<div class="method-source-code"
						id="empty--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 286</span>
286:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">empty?</span>
287:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">empty?</span>
288:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="include--method" class="method-detail ">
				<a name="M000361"></a>

				<div class="method-heading">
				
					<span class="method-name">include?</span><span
						class="method-args">(user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Test whether a given user is in this userlist.
</p>
					

					
					<div class="method-source-code"
						id="include--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 111</span>
111:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include?</span>(<span class="ruby-identifier">user</span>)
112:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">User</span>) <span class="ruby-keyword kw">then</span>
113:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">user</span>)
114:         <span class="ruby-keyword kw">else</span>
115:           <span class="ruby-identifier">include_nick?</span>(<span class="ruby-identifier">user</span>)
116:         <span class="ruby-keyword kw">end</span>
117:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="include-nick--method" class="method-detail ">
				<a name="M000367"></a>

				<div class="method-heading">
				
					<span class="method-name">include_nick?</span><span
						class="method-args">(nick)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Test whether this userlist includes a user with the given nick (casemapped)
</p>
					

					
					<div class="method-source-code"
						id="include-nick--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 125</span>
125:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include_nick?</span>(<span class="ruby-identifier">nick</span>)
126:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@connection</span> <span class="ruby-keyword kw">then</span>
127:           <span class="ruby-identifier">include?</span>(<span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">user_by_nick</span>(<span class="ruby-identifier">nick</span>))
128:         <span class="ruby-keyword kw">else</span>
129:           <span class="ruby-identifier">nick</span> = <span class="ruby-identifier">casemap</span>(<span class="ruby-identifier">nick</span>)
130:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">any?</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">k</span>,<span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">k</span>.<span class="ruby-identifier">compare</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">nick</span> }
131:         <span class="ruby-keyword kw">end</span>
132:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="include-user--method" class="method-detail ">
				<a name="M000366"></a>

				<div class="method-heading">
				
					<span class="method-name">include_user?</span><span
						class="method-args">(user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Test whether a given user is in this userlist.
</p>
					

					
					<div class="method-source-code"
						id="include-user--source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 120</span>
120:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">include_user?</span>(<span class="ruby-identifier">user</span>)
121:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">user</span>)
122:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="nicks-method" class="method-detail ">
				<a name="M000377"></a>

				<div class="method-heading">
				
					<span class="method-name">nicks</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return all nicks in this list
</p>
					

					
					<div class="method-source-code"
						id="nicks-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 175</span>
175:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">nicks</span>
176:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">nick</span> }
177:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="size-method" class="method-detail ">
				<a name="M000382"></a>

				<div class="method-heading">
				
					<span class="method-name">size</span><span
						class="method-args">()</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Returns number of users in this list
</p>
					

					
					<div class="method-source-code"
						id="size-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 185</span>
185:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">size</span>
186:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">size</span>
187:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="strong-clones-method" class="method-detail ">
				<a name="M000383"></a>

				<div class="method-heading">
				
					<span class="method-name">strong_clones</span><span
						class="method-args">(min=2)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Looks up if there are clones in the list of users (if the same user is in
irc under different nicks, those nicks are considered clones). min defines
how many users need to have the same host and user to appear in the list.
Returns a hash of the form: { hostmask => [matching, users] } Also see <a
href="UserList.html#M000391">weak_clones</a> (<a
href="UserList.html#M000391">weak_clones</a> only needs the same host, <a
href="UserList.html#M000383">strong_clones</a> needs same host and same
username)
</p>
					

					
					<div class="method-source-code"
						id="strong-clones-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 195</span>
195:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">strong_clones</span>(<span class="ruby-identifier">min</span>=<span class="ruby-value">2</span>)
196:         <span class="ruby-identifier">sieve</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
197:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each_key</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span>
198:           <span class="ruby-identifier">sieve</span>[<span class="ruby-identifier">user</span>.<span class="ruby-identifier">hostmask</span>(<span class="ruby-keyword kw">true</span>)] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">user</span> <span class="ruby-keyword kw">if</span> (<span class="ruby-identifier">user</span>.<span class="ruby-identifier">user</span> <span class="ruby-operator">&amp;&amp;</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">host</span>)
199:         }
200:         <span class="ruby-identifier">sieve</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">host</span>, <span class="ruby-identifier">users</span><span class="ruby-operator">|</span> <span class="ruby-identifier">users</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">min</span> }
201:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="synchronize-method" class="method-detail ">
				<a name="M000407"></a>

				<div class="method-heading">
				
					<span class="method-name">synchronize</span><span
						class="method-args">(*args, &block)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Delegates to this lists lock.
</p>
					

					
					<div class="method-source-code"
						id="synchronize-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 291</span>
291:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">synchronize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
292:         <span class="ruby-ivar">@lock</span>.<span class="ruby-identifier">synchronize</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">args</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>)
293:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="user-method" class="method-detail ">
				<a name="M000371"></a>

				<div class="method-heading">
				
					<span class="method-name">user</span><span
						class="method-args">(nick)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Get a user by nick Also see IRC::Connection#strip_user_prefixes You should
use <a href="Connection.html#M000191">Connection#user_by_nick</a> if you
can
</p>
					

					
					<div class="method-source-code"
						id="user-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 137</span>
137:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">user</span>(<span class="ruby-identifier">nick</span>)
138:         <span class="ruby-keyword kw">if</span> <span class="ruby-ivar">@connection</span> <span class="ruby-keyword kw">then</span>
139:           <span class="ruby-identifier">user</span> = <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">user_by_nick</span>(<span class="ruby-identifier">nick</span>)
140:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">has_key?</span>(<span class="ruby-identifier">user</span>) <span class="ruby-operator">?</span> <span class="ruby-identifier">user</span> <span class="ruby-operator">:</span> <span class="ruby-keyword kw">nil</span>
141:         <span class="ruby-keyword kw">else</span>
142:           <span class="ruby-identifier">nick</span> = <span class="ruby-identifier">casemap</span>(<span class="ruby-identifier">nick</span>)
143:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">keys</span>.<span class="ruby-identifier">find</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">compare</span> <span class="ruby-operator">==</span> <span class="ruby-identifier">nick</span> }
144:         <span class="ruby-keyword kw">end</span>
145:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="users-method" class="method-detail ">
				<a name="M000376"></a>

				<div class="method-heading">
				
					<span class="method-name">users</span><span
						class="method-args">(*nicks)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return all users in this list if no argument is given With nicknames as
arguments it will return an array with the users having the given nicks
</p>
					

					
					<div class="method-source-code"
						id="users-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 162</span>
162:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">users</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">nicks</span>)
163:         <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">nicks</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-keyword kw">then</span>
164:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">keys</span>
165:         <span class="ruby-keyword kw">elsif</span> <span class="ruby-ivar">@connection</span> <span class="ruby-keyword kw">then</span>
166:           <span class="ruby-identifier">users</span> = <span class="ruby-identifier">nicks</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">nick</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">user_by_nick</span>(<span class="ruby-identifier">nick</span>) }
167:           <span class="ruby-identifier">users</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">include?</span>(<span class="ruby-identifier">user</span>) }
168:         <span class="ruby-keyword kw">else</span>
169:           <span class="ruby-identifier">nicks</span> = <span class="ruby-constant">Hash</span>[<span class="ruby-operator">*</span><span class="ruby-identifier">nicks</span>.<span class="ruby-identifier">map</span> { [<span class="ruby-identifier">casemap</span>(<span class="ruby-identifier">nick</span>), <span class="ruby-keyword kw">true</span>] }.<span class="ruby-identifier">flatten</span>]
170:           <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">select</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span> <span class="ruby-identifier">nicks</span>[<span class="ruby-identifier">user</span>.<span class="ruby-identifier">compare</span>] }
171:         <span class="ruby-keyword kw">end</span>
172:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="value-by-nick-method" class="method-detail ">
				<a name="M000373"></a>

				<div class="method-heading">
				
					<span class="method-name">value_by_nick</span><span
						class="method-args">(nick)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Get the associated value of a user by nick Also see
IRC::Connection#strip_user_prefixes
</p>
					

					
					<div class="method-source-code"
						id="value-by-nick-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 155</span>
155:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value_by_nick</span>(<span class="ruby-identifier">nick</span>)
156:         <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">by_nick</span>(<span class="ruby-identifier">nick</span>)]
157:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="value-by-user-method" class="method-detail ">
				<a name="M000372"></a>

				<div class="method-heading">
				
					<span class="method-name">value_by_user</span><span
						class="method-args">(user)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Get the value associated with a user
</p>
					

					
					<div class="method-source-code"
						id="value-by-user-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 148</span>
148:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">value_by_user</span>(<span class="ruby-identifier">user</span>)
149:         <span class="ruby-identifier">raise</span> <span class="ruby-constant">TypeError</span>, <span class="ruby-node">&quot;User expected, #{user.class} given.&quot;</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">kind_of?</span>(<span class="ruby-constant">User</span>)
150:         <span class="ruby-ivar">@users</span>[<span class="ruby-identifier">user</span>]
151:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="values-method" class="method-detail ">
				<a name="M000381"></a>

				<div class="method-heading">
				
					<span class="method-name">values</span><span
						class="method-args">(*users)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return all values associated with users
</p>
					

					
					<div class="method-source-code"
						id="values-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 180</span>
180:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">values</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">users</span>)
181:         <span class="ruby-identifier">users</span>.<span class="ruby-identifier">empty?</span> <span class="ruby-value">? </span><span class="ruby-ivar">@users</span>.<span class="ruby-identifier">values</span> <span class="ruby-operator">:</span> <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">values_at</span>(<span class="ruby-operator">*</span><span class="ruby-identifier">users</span>)
182:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="weak-clones-method" class="method-detail ">
				<a name="M000391"></a>

				<div class="method-heading">
				
					<span class="method-name">weak_clones</span><span
						class="method-args">(min=2)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Looks up if there are clones in the list of users (if the same user is in
irc under different nicks, those nicks are considered clones). min defines
how many users need to have the same host to appear in the list. Returns a
hash of the form: { hostmask => [matching, users] } Also see <a
href="UserList.html#M000383">strong_clones</a> (<a
href="UserList.html#M000391">weak_clones</a> only needs the same host, <a
href="UserList.html#M000383">strong_clones</a> needs same host and same
username)
</p>
					

					
					<div class="method-source-code"
						id="weak-clones-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 209</span>
209:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">weak_clones</span>(<span class="ruby-identifier">min</span>=<span class="ruby-value">2</span>)
210:         <span class="ruby-identifier">sieve</span> = <span class="ruby-constant">Hash</span>.<span class="ruby-identifier">new</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">h</span>,<span class="ruby-identifier">k</span><span class="ruby-operator">|</span> <span class="ruby-identifier">h</span>[<span class="ruby-identifier">k</span>] = [] }
211:         <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">each_key</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">user</span><span class="ruby-operator">|</span>
212:           <span class="ruby-identifier">sieve</span>[<span class="ruby-identifier">user</span>.<span class="ruby-identifier">hostmask</span>(<span class="ruby-keyword kw">true</span>, <span class="ruby-keyword kw">true</span>)] <span class="ruby-operator">&lt;&lt;</span> <span class="ruby-identifier">user</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">user</span>.<span class="ruby-identifier">host</span>
213:         }
214:         <span class="ruby-identifier">sieve</span>.<span class="ruby-identifier">reject</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">host</span>, <span class="ruby-identifier">users</span><span class="ruby-operator">|</span> <span class="ruby-identifier">users</span>.<span class="ruby-identifier">size</span> <span class="ruby-operator">&lt;</span> <span class="ruby-identifier">min</span> }
215:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	
		<div id="private-instance-method-details" class="method-section section">
			<h3 class="section-header">Private Instance Methods</h3>

		
			<div id="casemap-method" class="method-detail ">
				<a name="M000409"></a>

				<div class="method-heading">
				
					<span class="method-name">casemap</span><span
						class="method-args">(nick)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p>
Return the nick casemapped
</p>
					

					
					<div class="method-source-code"
						id="casemap-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 306</span>
306:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">casemap</span>(<span class="ruby-identifier">nick</span>)
307:         <span class="ruby-ivar">@connection</span> <span class="ruby-operator">?</span> <span class="ruby-ivar">@connection</span>.<span class="ruby-identifier">casemap</span>(<span class="ruby-identifier">nick</span>) <span class="ruby-operator">:</span> <span class="ruby-keyword kw">super</span>
308:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
			<div id="initialize-copy-method" class="method-detail ">
				<a name="M000410"></a>

				<div class="method-heading">
				
					<span class="method-name">initialize_copy</span><span
						class="method-args">(template)</span>
					<span class="method-click-advice">click to toggle source</span>
				
				</div>

				<div class="method-description">
					
					<p class="missing-docs">(Not documented)</p>
					

					
					<div class="method-source-code"
						id="initialize-copy-source">
<pre>
     <span class="ruby-comment cmt"># File lib/silverplatter/irc/userlist.rb, line 310</span>
310:       <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">initialize_copy</span>(<span class="ruby-identifier">template</span>)
311:         <span class="ruby-ivar">@users</span>      = <span class="ruby-ivar">@users</span>.<span class="ruby-identifier">dup</span> <span class="ruby-comment cmt"># don't share the users-hash</span>
312:         <span class="ruby-ivar">@lock</span>       = <span class="ruby-constant">Mutex</span>.<span class="ruby-identifier">new</span>  <span class="ruby-comment cmt"># don't share the mutex</span>
313:       <span class="ruby-keyword kw">end</span></pre>
					</div>
					
				</div>

				
			</div>

		
		</div>
	

	</div>


	<div id="rdoc-debugging-section-dump" class="debugging-section">
	
		<p>Disabled; run with --debug to generate this.</p>
	
	</div>

	<div id="validator-badges">
		<p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
		<p><small>Generated with the <a href="http://deveiate.org/projects/Darkfish-Rdoc/">Darkfish
			Rdoc Generator</a> 1.1.6</small>.</p>
	</div>

</body>
</html>

